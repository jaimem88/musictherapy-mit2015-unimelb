extends layout
block scripts
	script(src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.5/socket.io.js")
	script(src="https://cdn.webrtc-experiment.com/RecordRTC.js")
	script(src='/js/controllers/lib/adapter.js')
	script(src='/js/controllers/Opus.js')
	script(src='/js/controllers/get_media_functions.js')
	script.
		username = "#{user.fname}"
block content
	h4
		//a(href="/profile")
		button#profile(style = "display:block" type="button" onclick="goTo(\"\/profile\")")
			span.fa.fa-user
			|  Profile
		button#startCallModeButton(style = "display:block" type="button", onclick="startCallMode()")
			span.fa.fa-phone
			|  Start session
		button#stopCallModeButton(style = "display: none" type="button", onclick="stopCallMode()")
			span.fa.fa-stop
			|  Stop session
	h1
		center Welcome #{user.fname}!
	#mediaPage(style="display: none")
		#contactInfo(style="float:right")
			p#contactHeading.textStyle(align="right")
			br
			br
			br
			br
			strong Online Contacts
			p#contacts(align="right") no contacts
	#media
		video#localVideo(width="320", height="240", autoplay="true", muted="true", style="display: none")
		audio#localAudio(controls="", autoplay="true", muted="false", style="display: none")
		.inner(style="height: 5em;")
			- if (user.admin)
				button#recordAudio(style = "display: block" type="button") Start Recording Mode
				button#stop-recording-audio(style = "display: block" disabled="") Stop Recording Mode
	.callingDisplay
		#callerDisplay.textStyle(style="display: none")
			p#callerName(align="center") no caller&#62;
			p#calling(align="center") calling
			audio#ringingSound(src="ringing_sound.mp3", type="audio/mpeg")
		#calleeDisplay.textStyle(style="display: none")
			p#calleeName no callee
				img(src="/img/calling-icon.png", align="center", alt="calling", height="40", width="40")
		#acceptButtons(style="display: none")
			button#accept(type="button", onclick="accept()")
				img(src="/img/Accept-icon.jpg", height="40", width="100", alt="Accept")
			button#reject(type="button", onclick="reject()")
				img(src="/img/Reject-icon.jpg", height="40", width="100", alt="Reject")
		#addToConferenceButtons(align="right", style="display: none")
			button#addToConference(type="button", onclick="addToConference()")
				img(src="/img/add-button.png", height="40", width="100", alt="add")
			button#reject(type="button", onclick="reject()")
				img(src="/img/Reject-icon.jpg", height="40", width="100", alt="Reject")
		#endConference(align="right", style="display: none")
			button#hangupButton(type="button", onclick="endConference()")
				img(src="/img/end-call.jpg", height="60", width="80", alt="Hangup")

	script(src='/js/controllers/home_controller.js')
	script(src='/js/views/home.js')
	//script(src='/js/views/recordAudio.js')
